(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{133:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(142),c=n(188),r=n(165);const s=r.a.div`
  color: green;
`;var i=function({todo:e,onComplete:t}){return a.a.createElement(s,null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",onClick:()=>t(e)}),e.value))};class u{constructor(e){this.value=e,this.id=Date.now(),this.isDone=!1}}const d=r.a.div`
  color: blue;
  min-height: 25vh;
`,E={todos:[],currentValue:""};function m(e,t){switch(t[0]){case"CHANGE_TODO_VALUE":return{...e,currentValue:t[1]};case"ADD_TODOS":return{...e,todos:[...e.todos,...t[1]]};case"COMPLETE_TODO":return{...e,todos:[...e.todos.filter(e=>e.id!==t[1].id),t[1]]};default:return e}}function O({todoService:e}){const[{currentValue:t,todos:n},l]=Object(o.useReducer)(m,E),c=n.filter(e=>!e.isDone);function r(t){e&&e.save(t)}function s(){if(t){const e=new u(t);l(["ADD_TODOS",[e]]),l(["CHANGE_TODO_VALUE",""]),r(e)}}function O(e){const t={...e,isDone:!0};l(["COMPLETE_TODO",t]),r(t)}return Object(o.useEffect)(()=>{e&&l(["ADD_TODOS",e.getTodos()])},[]),a.a.createElement(d,null,a.a.createElement("h3",null,"My Todo List"),a.a.createElement("label",null,"Todo: ",a.a.createElement("input",{value:t,onChange:function(e){l(["CHANGE_TODO_VALUE",e.target.value])},onKeyUp:function(e){"Enter"===e.key&&s()}})),a.a.createElement("button",{onClick:s},"Add"),a.a.createElement("div",null,c.length>0&&a.a.createElement("span",null,"My active todos:"),a.a.createElement(a.a.Fragment,null,c.map(e=>a.a.createElement(i,{key:`todo-${e.id}`,todo:e,onComplete:O})))))}class f{constructor(e){this.localStorage=e}getTodos(){const e=this.localStorage.getItem("todos");return e?JSON.parse(e):[]}save(e){if(e&&e.value&&e.id){const t=this.getTodos().filter(t=>t.id!==e.id);this.localStorage.setItem("todos",JSON.stringify([...t,e]))}}}t.default=function(){return a.a.createElement(c.a,{fallback:a.a.createElement(O,null)},()=>a.a.createElement(l.a,{title:"TodoList"},a.a.createElement(O,{todoService:new f(localStorage)})))}}}]);